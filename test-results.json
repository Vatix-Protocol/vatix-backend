{"numTotalTestSuites":9,"numPassedTestSuites":6,"numFailedTestSuites":3,"numPendingTestSuites":0,"numTotalTests":17,"numPassedTests":15,"numFailedTests":2,"numPendingTests":0,"numTodoTests":0,"snapshot":{"added":0,"failure":false,"filesAdded":0,"filesRemoved":0,"filesRemovedList":[],"filesUnmatched":0,"filesUpdated":0,"matched":0,"total":0,"unchecked":0,"uncheckedKeysByFile":[],"unmatched":0,"updated":0,"didUpdate":false},"startTime":1769079531166,"success":false,"testResults":[{"assertionResults":[{"ancestorTitles":["Error Handler Middleware","ValidationError"],"fullName":"Error Handler Middleware ValidationError should return 400 status code","status":"passed","title":"should return 400 status code","duration":163.87199999999996,"failureMessages":[],"meta":{}},{"ancestorTitles":["Error Handler Middleware","ValidationError"],"fullName":"Error Handler Middleware ValidationError should include field details in response","status":"passed","title":"should include field details in response","duration":4.40280000000007,"failureMessages":[],"meta":{}},{"ancestorTitles":["Error Handler Middleware","ValidationError"],"fullName":"Error Handler Middleware ValidationError should include error message in response","status":"passed","title":"should include error message in response","duration":3.0482999999999265,"failureMessages":[],"meta":{}},{"ancestorTitles":["Error Handler Middleware","NotFoundError"],"fullName":"Error Handler Middleware NotFoundError should return 404 status code","status":"passed","title":"should return 404 status code","duration":4.701199999999972,"failureMessages":[],"meta":{}},{"ancestorTitles":["Error Handler Middleware","NotFoundError"],"fullName":"Error Handler Middleware NotFoundError should include error message in response","status":"passed","title":"should include error message in response","duration":2.5878999999999905,"failureMessages":[],"meta":{}},{"ancestorTitles":["Error Handler Middleware","UnauthorizedError"],"fullName":"Error Handler Middleware UnauthorizedError should return 401 status code","status":"passed","title":"should return 401 status code","duration":2.2455999999999676,"failureMessages":[],"meta":{}},{"ancestorTitles":["Error Handler Middleware","UnauthorizedError"],"fullName":"Error Handler Middleware UnauthorizedError should include error message in response","status":"passed","title":"should include error message in response","duration":2.630800000000022,"failureMessages":[],"meta":{}},{"ancestorTitles":["Error Handler Middleware","Unknown Errors"],"fullName":"Error Handler Middleware Unknown Errors should return 500 status code for generic errors","status":"passed","title":"should return 500 status code for generic errors","duration":7.376800000000003,"failureMessages":[],"meta":{}},{"ancestorTitles":["Error Handler Middleware","Unknown Errors"],"fullName":"Error Handler Middleware Unknown Errors should include error message in development mode","status":"passed","title":"should include error message in development mode","duration":5.738300000000095,"failureMessages":[],"meta":{}},{"ancestorTitles":["Error Handler Middleware","Unknown Errors"],"fullName":"Error Handler Middleware Unknown Errors should hide internal details in production mode","status":"passed","title":"should hide internal details in production mode","duration":4.03349999999989,"failureMessages":[],"meta":{}},{"ancestorTitles":["Error Handler Middleware","Response Format"],"fullName":"Error Handler Middleware Response Format should have consistent format with error, requestId, and statusCode","status":"passed","title":"should have consistent format with error, requestId, and statusCode","duration":2.629000000000019,"failureMessages":[],"meta":{}},{"ancestorTitles":["Error Handler Middleware","Response Format"],"fullName":"Error Handler Middleware Response Format should include request ID in response","status":"passed","title":"should include request ID in response","duration":4.666299999999978,"failureMessages":[],"meta":{}},{"ancestorTitles":["Error Handler Middleware","Response Format"],"fullName":"Error Handler Middleware Response Format should match statusCode in response body and HTTP status","status":"passed","title":"should match statusCode in response body and HTTP status","duration":1.9669999999999845,"failureMessages":[],"meta":{}},{"ancestorTitles":["Error Handler Middleware","Logging"],"fullName":"Error Handler Middleware Logging should log client errors at warn level","status":"failed","title":"should log client errors at warn level","duration":35.29029999999989,"failureMessages":["FastifyError: logger options only accepts a configuration object.\n    at FastifyError (C:\\Users\\HP\\Desktop\\Code\\vatix-backend\\node_modules\\.pnpm\\@fastify+error@4.2.0\\node_modules\\@fastify\\error\\index.js:28:14)\n    at createLogger (C:\\Users\\HP\\Desktop\\Code\\vatix-backend\\node_modules\\.pnpm\\fastify@5.7.1\\node_modules\\fastify\\lib\\logger-factory.js:100:11)\n    at processOptions (C:\\Users\\HP\\Desktop\\Code\\vatix-backend\\node_modules\\.pnpm\\fastify@5.7.1\\node_modules\\fastify\\fastify.js:865:33)\n    at fastify (C:\\Users\\HP\\Desktop\\Code\\vatix-backend\\node_modules\\.pnpm\\fastify@5.7.1\\node_modules\\fastify\\fastify.js:94:7)\n    at C:/Users/HP/Desktop/Code/vatix-backend/src/api/middleware/errorHandler.test.ts:241:26\n    at file:///C:/Users/HP/Desktop/Code/vatix-backend/node_modules/.pnpm/@vitest+runner@4.0.17/node_modules/@vitest/runner/dist/index.js:145:11\n    at file:///C:/Users/HP/Desktop/Code/vatix-backend/node_modules/.pnpm/@vitest+runner@4.0.17/node_modules/@vitest/runner/dist/index.js:915:26\n    at file:///C:/Users/HP/Desktop/Code/vatix-backend/node_modules/.pnpm/@vitest+runner@4.0.17/node_modules/@vitest/runner/dist/index.js:1243:20\n    at new Promise (<anonymous>)\n    at runWithTimeout (file:///C:/Users/HP/Desktop/Code/vatix-backend/node_modules/.pnpm/@vitest+runner@4.0.17/node_modules/@vitest/runner/dist/index.js:1209:10)"],"meta":{}},{"ancestorTitles":["Error Handler Middleware","Logging"],"fullName":"Error Handler Middleware Logging should log server errors at error level","status":"failed","title":"should log server errors at error level","duration":1.9067000000000007,"failureMessages":["FastifyError: logger options only accepts a configuration object.\n    at FastifyError (C:\\Users\\HP\\Desktop\\Code\\vatix-backend\\node_modules\\.pnpm\\@fastify+error@4.2.0\\node_modules\\@fastify\\error\\index.js:28:14)\n    at createLogger (C:\\Users\\HP\\Desktop\\Code\\vatix-backend\\node_modules\\.pnpm\\fastify@5.7.1\\node_modules\\fastify\\lib\\logger-factory.js:100:11)\n    at processOptions (C:\\Users\\HP\\Desktop\\Code\\vatix-backend\\node_modules\\.pnpm\\fastify@5.7.1\\node_modules\\fastify\\fastify.js:865:33)\n    at fastify (C:\\Users\\HP\\Desktop\\Code\\vatix-backend\\node_modules\\.pnpm\\fastify@5.7.1\\node_modules\\fastify\\fastify.js:94:7)\n    at C:/Users/HP/Desktop/Code/vatix-backend/src/api/middleware/errorHandler.test.ts:270:26\n    at file:///C:/Users/HP/Desktop/Code/vatix-backend/node_modules/.pnpm/@vitest+runner@4.0.17/node_modules/@vitest/runner/dist/index.js:145:11\n    at file:///C:/Users/HP/Desktop/Code/vatix-backend/node_modules/.pnpm/@vitest+runner@4.0.17/node_modules/@vitest/runner/dist/index.js:915:26\n    at file:///C:/Users/HP/Desktop/Code/vatix-backend/node_modules/.pnpm/@vitest+runner@4.0.17/node_modules/@vitest/runner/dist/index.js:1243:20\n    at new Promise (<anonymous>)\n    at runWithTimeout (file:///C:/Users/HP/Desktop/Code/vatix-backend/node_modules/.pnpm/@vitest+runner@4.0.17/node_modules/@vitest/runner/dist/index.js:1209:10)"],"meta":{}},{"ancestorTitles":["Error Handler Middleware","Edge Cases"],"fullName":"Error Handler Middleware Edge Cases should handle errors with custom status codes","status":"passed","title":"should handle errors with custom status codes","duration":2.185299999999984,"failureMessages":[],"meta":{}},{"ancestorTitles":["Error Handler Middleware","Edge Cases"],"fullName":"Error Handler Middleware Edge Cases should handle ValidationError without fields","status":"passed","title":"should handle ValidationError without fields","duration":2.781600000000026,"failureMessages":[],"meta":{}}],"startTime":1769079531813,"endTime":1769079532065.7815,"status":"failed","message":"","name":"C:/Users/HP/Desktop/Code/vatix-backend/src/api/middleware/errorHandler.test.ts"}]}